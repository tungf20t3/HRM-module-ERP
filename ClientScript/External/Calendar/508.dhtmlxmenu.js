function dhtmlXMenuObject(n,t){var i=this,f,e,r,u;if(this.addBaseIdAsContextZone=null,this.isDhtmlxMenuObject=!0,this.skin=t!=null?t:typeof dhtmlx!="undefined"&&typeof dhtmlx.skin=="string"?dhtmlx.skin:"dhx_skyblue",this.imagePath="",this._isIE6=!1,_isIE&&(this._isIE6=window.XMLHttpRequest==null?!0:!1),n==null)this.base=document.body;else if(f=typeof n=="string"?document.getElementById(n):n,f!=null){for(this.base=f,this.base.id||(this.base.id=(new Date).valueOf());this.base.childNodes.length>0;)this.base.removeChild(this.base.childNodes[0]);this.base.className+=" dhtmlxMenu_"+this.skin+"_Middle dir_left";this.base._autoSkinUpdate=!0;this.base.oncontextmenu&&(this.base._oldContextMenuHandler=this.base.oncontextmenu);this.addBaseIdAsContextZone=this.base.id;this.base.onselectstart=function(n){return n=n||event,n.returnValue=!1,!1};this.base.oncontextmenu=function(n){return n=n||event,n.returnValue=!1,!1}}else this.base=document.body;if(this.topId="dhxWebMenuTopId",!this.extendedModule){for(e=function(){alert(this.i18n.dhxmenuextalert)},r=["setItemEnabled","setItemDisabled","isItemEnabled","_changeItemState","getItemText","setItemText","loadFromHTML","hideItem","showItem","isItemHidden","_changeItemVisible","setUserData","getUserData","setOpenMode","setWebModeTimeout","enableDynamicLoading","_updateLoaderIcon","getItemImage","setItemImage","clearItemImage","setAutoShowMode","setAutoHideMode","setContextMenuHideAllMode","getContextMenuHideAllMode","setVisibleArea","setTooltip","getTooltip","setHotKey","getHotKey","setItemSelected","setTopText","setRTL","setAlign","setHref","clearHref","getCircuit","_clearAllSelectedSubItemsInPolygon","_checkArrowsState","_addUpArrow","_addDownArrow","_removeUpArrow","_removeDownArrow","_isArrowExists","_doScrollUp","_doScrollDown","_countPolygonItems","setOverflowHeight","_getRadioImgObj","_setRadioState","_radioOnClickHandler","getRadioChecked","setRadioChecked","addRadioButton","_getCheckboxState","_setCheckboxState","_readLevel","_updateCheckboxImage","_checkboxOnClickHandler","setCheckboxState","getCheckboxState","addCheckbox","serialize"],u=0;u<r.length;u++)this[r[u]]||(this[r[u]]=e);r=null}return this.fixedPosition=!1,this.menuSelected=-1,this.menuLastClicked=-1,this.idPrefix="",this.itemTagName="item",this.itemTextTagName="itemtext",this.userDataTagName="userdata",this.itemTipTagName="tooltip",this.itemHotKeyTagName="hotkey",this.itemHrefTagName="href",this.dirTopLevel="bottom",this.dirSubLevel="right",this.menuX1=null,this.menuX2=null,this.menuY1=null,this.menuY2=null,this.menuMode="web",this.menuTimeoutMsec=5e3,this.menuTimeoutHandler=null,this.autoOverflow=!1,this.idPull={},this.itemPull={},this.userData={},this.radio={},this._rtl=!1,this._align="left",this.menuTouched=!1,this.zIndInit=1200,this.zInd=this.zIndInit,this.zIndStep=50,this.menuModeTopLevelTimeout=!0,this.menuModeTopLevelTimeoutTime=200,this._topLevelBottomMargin=1,this._topLevelRightMargin=0,this._topLevelOffsetLeft=1,this._arrowFFFix=_isIE?document.compatMode=="BackCompat"?0:-4:-4,this.setSkin=function(n){var i=this.skin,t;this.skin=n;switch(this.skin){case"dhx_black":case"dhx_blue":case"dhx_skyblue":case"dhx_web":this._topLevelBottomMargin=2;this._topLevelRightMargin=1;this._topLevelOffsetLeft=1;this._arrowFFFix=_isIE?document.compatMode=="BackCompat"?0:-4:-4;break;case"dhx_web":this._arrowFFFix=0;break;case"dhx_terrace":this._topLevelBottomMargin=0;this._topLevelRightMargin=0;this._topLevelOffsetLeft=0;this._arrowFFFix=_isIE?document.compatMode=="BackCompat"?0:-4:-4}this.base._autoSkinUpdate&&(this.base.className=this.base.className.replace("dhtmlxMenu_"+i+"_Middle","")+" dhtmlxMenu_"+this.skin+"_Middle");for(t in this.idPull)this.idPull[t].className=String(this.idPull[t].className).replace(i,this.skin)},this.setSkin(this.skin),this.dLoad=!1,this.dLoadUrl="",this.dLoadSign="?",this.loaderIcon=!1,this.limit=0,this._scrollUpTM=null,this._scrollUpTMTime=20,this._scrollUpTMStep=3,this._scrollDownTM=null,this._scrollDownTMTime=20,this._scrollDownTMStep=3,this.context=!1,this.contextZones={},this.contextMenuZoneId=!1,this.contextAutoShow=!0,this.contextAutoHide=!0,this.contextHideAllMode=!0,this._selectedSubItems=[],this._openedPolygons=[],this._addSubItemToSelected=function(n,t){for(var r=!0,i=0;i<this._selectedSubItems.length;i++)this._selectedSubItems[i][0]==n&&this._selectedSubItems[i][1]==t&&(r=!1);return r==!0&&this._selectedSubItems.push([n,t]),r},this._removeSubItemFromSelected=function(n,t){for(var r=[],u=!1,i=0;i<this._selectedSubItems.length;i++)this._selectedSubItems[i][0]==n&&this._selectedSubItems[i][1]==t?u=!0:r[r.length]=this._selectedSubItems[i];return u==!0&&(this._selectedSubItems=r),u},this._getSubItemToDeselectByPolygon=function(n){for(var u,r,i=[],t=0;t<this._selectedSubItems.length;t++)if(this._selectedSubItems[t][1]==n){for(i[i.length]=this._selectedSubItems[t][0],i=i.concat(this._getSubItemToDeselectByPolygon(this._selectedSubItems[t][0])),u=!0,r=0;r<this._openedPolygons.length;r++)this._openedPolygons[r]==this._selectedSubItems[t][0]&&(u=!1);u==!0&&(this._openedPolygons[this._openedPolygons.length]=this._selectedSubItems[t][0]);this._selectedSubItems[t][0]=-1;this._selectedSubItems[t][1]=-1}return i},this._hidePolygon=function(n){if(this.idPull["polygon_"+n]!=null){if(typeof this._menuEffect!="undefined"&&this._menuEffect!==!1)this._hidePolygonEffect("polygon_"+n);else{if(this.idPull["polygon_"+n].style.display=="none")return;this.idPull["polygon_"+n].style.display="none";this.idPull["arrowup_"+n]!=null&&(this.idPull["arrowup_"+n].style.display="none");this.idPull["arrowdown_"+n]!=null&&(this.idPull["arrowdown_"+n].style.display="none");this._updateItemComplexState(n,!0,!1);this._isIE6&&this.idPull["polygon_"+n+"_ie6cover"]!=null&&(this.idPull["polygon_"+n+"_ie6cover"].style.display="none")}n=String(n).replace(this.idPrefix,"");n==this.topId&&(n=null);this.callEvent("onHide",[n]);n!=null&&this.skin=="dhx_terrace"&&this.itemPull[this.idPrefix+n].parent==this.idPrefix+this.topId&&this._improveTerraceButton(this.idPrefix+n,!0)}},this._showPolygon=function(n,t){var w=this._countVisiblePolygonItems(n),i,d,g,c,p,o,l;if(w!=0&&(i="polygon_"+n,this.idPull[i]!=null&&this.idPull[n]!=null)){if(this.menuModeTopLevelTimeout&&this.menuMode=="web"&&!this.context&&!this.idPull[n]._mouseOver&&t==this.dirTopLevel)return;this.fixedPosition||this._autoDetectVisibleArea();var b=0,k=0,e=null,f=null;this.idPull[i].style.visibility="hidden";this.idPull[i].style.left="0px";this.idPull[i].style.top="0px";this.idPull[i].style.display="";this.idPull[i].style.zIndex=this.zInd;this.autoOverflow&&(this.idPull[i].firstChild.offsetHeight>this.menuY1+this.menuY2?(d=Math.floor((this.menuY2-this.menuY1-35)/24),this.limit=d):(this.limit=0,this.idPull["arrowup_"+n]!=null&&this._removeUpArrow(String(n).replace(this.idPrefix,"")),this.idPull["arrowdown_"+n]!=null&&this._removeDownArrow(String(n).replace(this.idPrefix,""))));this.limit>0&&this.limit<w&&(this.idPull["arrowup_"+n]==null&&this._addUpArrow(String(n).replace(this.idPrefix,"")),this.idPull["arrowdown_"+n]==null&&this._addDownArrow(String(n).replace(this.idPrefix,"")),e=this.idPull["arrowup_"+n],e.style.visibility="hidden",e.style.display="",e.style.zIndex=this.zInd,b=e.offsetHeight,f=this.idPull["arrowdown_"+n],f.style.visibility="hidden",f.style.display="",f.style.zIndex=this.zInd,k=f.offsetHeight);this.limit>0&&(this.limit<w?(this.idPull[i].style.height=24*this.limit+"px",this.idPull[i].scrollTop=0):this.idPull[i].style.height="");this.zInd+=this.zIndStep;this.itemPull[n]!=null?g="polygon_"+this.itemPull[n].parent:this.context&&(g=this.idPull[this.idPrefix+this.topId]);var s=this.idPull[n].tagName!=null?getAbsoluteLeft(this.idPull[n]):this.idPull[n][0],a=this.idPull[n].tagName!=null?getAbsoluteTop(this.idPull[n]):this.idPull[n][1],v=this.idPull[n].tagName!=null?this.idPull[n].offsetWidth:0,nt=this.idPull[n].tagName!=null?this.idPull[n].offsetHeight:0,r=0,u=0,h=this.idPull[i].offsetWidth,y=this.idPull[i].offsetHeight+b+k;t=="bottom"&&(r=this._rtl?s+(v!=null?v:0)-h:this._align=="right"?s+v-h:s-1+(t==this.dirTopLevel?this._topLevelRightMargin:0),u=a-1+nt+this._topLevelBottomMargin);t=="right"&&(r=s+v-1,u=a+2);t=="left"&&(r=s-this.idPull[i].offsetWidth+2,u=a+2);t=="top"&&(r=s-1,u=a-y+2);this.fixedPosition?(c=65536,p=65536):(c=this.menuX2!=null?this.menuX2:0,p=this.menuY2!=null?this.menuY2:0,c==0&&(window.innerWidth?(c=window.innerWidth,p=window.innerHeight):(c=document.body.offsetWidth,p=document.body.scrollHeight)));r+h>c&&!this._rtl&&(r=s-h+2);r<this.menuX1&&this._rtl&&(r=s+v-2);r<0&&(r=0);u+y>p&&this.menuY2!=null&&(u=Math.max(a+nt-y+2,this._isVisibleArea?this.menuY1+2:2),this.context&&this.idPrefix+this.topId==n&&f!=null&&(u=u-2),this.itemPull[n]==null||this.context||this.itemPull[n].parent==this.idPrefix+this.topId&&(u=u-this.base.offsetHeight));this.idPull[i].style.left=r+"px";this.idPull[i].style.top=u+b+"px";typeof this._menuEffect!="undefined"&&this._menuEffect!==!1?this._showPolygonEffect(i):(this.idPull[i].style.visibility="",this.limit>0&&this.limit<w&&(e.style.left=r+"px",e.style.top=u+"px",e.style.width=h+this._arrowFFFix+"px",e.style.visibility="",f.style.left=r+"px",f.style.top=u+y-k+"px",f.style.width=h+this._arrowFFFix+"px",f.style.visibility="",this._checkArrowsState(n)),this._isIE6&&(o=i+"_ie6cover",this.idPull[o]==null&&(l=document.createElement("IFRAME"),l.className="dhtmlxMenu_IE6CoverFix_"+this.skin,l.frameBorder=0,l.setAttribute("src","javascript:false;"),document.body.insertBefore(l,document.body.firstChild),this.idPull[o]=l),this.idPull[o].style.left=r+"px",this.idPull[o].style.top=u+"px",this.idPull[o].style.width=h+"px",this.idPull[o].style.height=y+"px",this.idPull[o].style.zIndex=this.idPull[i].style.zIndex-1,this.idPull[o].style.display=""));n=String(n).replace(this.idPrefix,"");n==this.topId&&(n=null);this.callEvent("onShow",[n]);n!=null&&this.skin=="dhx_terrace"&&this.itemPull[this.idPrefix+n].parent==this.idPrefix+this.topId&&this._improveTerraceButton(this.idPrefix+n,!1)}},this._redistribSubLevelSelection=function(n,t){for(var r,i,u;this._openedPolygons.length>0;)this._openedPolygons.pop();for(r=this._getSubItemToDeselectByPolygon(t),this._removeSubItemFromSelected(-1,-1),i=0;i<r.length;i++)this.idPull[r[i]]!=null&&r[i]!=n&&this.itemPull[r[i]].state=="enabled"&&(this.idPull[r[i]].className="sub_item");for(i=0;i<this._openedPolygons.length;i++)this._openedPolygons[i]!=t&&this._hidePolygon(this._openedPolygons[i]);this.itemPull[n].state=="enabled"&&(this.idPull[n].className="sub_item_selected",this.itemPull[n].complex&&this.dLoad&&this.itemPull[n].loaded=="no"&&(this.loaderIcon==!0&&this._updateLoaderIcon(n,!0),u=new dtmlXMLLoaderObject(this._xmlParser,window),this.itemPull[n].loaded="get",this.callEvent("onXLS",[]),u.loadXML(this.dLoadUrl+this.dLoadSign+"action=loadMenu&parentId="+n.replace(this.idPrefix,"")+"&etc="+(new Date).getTime())),(this.itemPull[n].complex||this.dLoad&&this.itemPull[n].loaded=="yes")&&this.itemPull[n].complex&&this.idPull["polygon_"+n]!=null&&(this._updateItemComplexState(n,!0,!0),this._showPolygon(n,this.dirSubLevel)),this._addSubItemToSelected(n,t),this.menuSelected=n)},this._doOnClick=function(n,t,i){var r,f,o,e,s,u;if(this.menuLastClicked=n,this.itemPull[this.idPrefix+n].href_link!=null&&this.itemPull[this.idPrefix+n].state=="enabled"){if(r=document.createElement("FORM"),f=String(this.itemPull[this.idPrefix+n].href_link).split("?"),r.action=f[0],f[1]!=null)for(o=String(f[1]).split("&"),e=0;e<o.length;e++)s=String(o[e]).split("="),u=document.createElement("INPUT"),u.type="hidden",u.name=s[0]||"",u.value=s[1]||"",r.appendChild(u);this.itemPull[this.idPrefix+n].href_target!=null&&(r.target=this.itemPull[this.idPrefix+n].href_target);r.style.display="none";document.body.appendChild(r);r.submit();r!=null&&(document.body.removeChild(r),r=null);return}if(t.charAt(0)!="c"&&t.charAt(1)!="d"&&t.charAt(2)!="s"){if(this.checkEvent("onClick"))this.callEvent("onClick",[n,this.contextMenuZoneId,i]);else if(t.charAt(1)=="d"||this.menuMode=="win"&&t.charAt(2)=="t")return;this.context&&this._isContextMenuVisible()&&this.contextAutoHide?this._hideContextMenu():this._clearAndHide&&this._clearAndHide()}},this._doOnTouchMenu=function(n){this.menuTouched==!1&&(this.menuTouched=!0,this.checkEvent("onTouch")&&this.callEvent("onTouch",[n]))},this._searchMenuNode=function(n,t){for(var u,r=[],i=0;i<t.length;i++)typeof t[i]=="object"&&(t[i].length==5&&typeof t[i][0]!="object"&&t[i][0].replace(this.idPrefix,"")==n&&i==0&&(r=t),u=this._searchMenuNode(n,t[i]),u.length>0&&(r=u));return r},this._getMenuNodes=function(n){var t=[];for(var i in this.itemPull)this.itemPull[i].parent==n&&(t[t.length]=i);return t},this._genStr=function(n){for(var t="",i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",r=0;r<n;r++)t+=i.charAt(Math.round(Math.random()*(i.length-1)));return t},this.getItemType=function(n){return(n=this.idPrefix+n,this.itemPull[n]==null)?null:this.itemPull[n].type},this.forEachItem=function(n){for(var t in this.itemPull)n(String(t).replace(this.idPrefix,""))},this._clearAndHide=function(){var t,n;for(i.menuSelected=-1,i.menuLastClicked=-1;i._openedPolygons.length>0;)i._openedPolygons.pop();for(t=0;t<i._selectedSubItems.length;t++)n=i._selectedSubItems[t][0],i.idPull[n]!=null&&i.itemPull[n].state=="enabled"&&(i.idPull[n].className=="sub_item_selected"&&(i.idPull[n].className="sub_item"),i.idPull[n].className=="dhtmlxMenu_"+i.skin+"_TopLevel_Item_Selected"&&(i.idPull[n].className=i.itemPull[n].cssNormal!=null?i.itemPull[n].cssNormal:"dhtmlxMenu_"+i.skin+"_TopLevel_Item_Normal")),i._hidePolygon(n);i.menuTouched=!1;i.context&&(i.contextHideAllMode?(i._hidePolygon(i.idPrefix+i.topId),i.zInd=i.zIndInit):i.zInd=i.zIndInit+i.zIndStep)},this._doOnLoad=function(){},this.loadXML=function(n,t){t&&(this._doOnLoad=function(){t()});this.callEvent("onXLS",[]);this._xmlLoader.loadXML(n)},this.loadXMLString=function(n,t){t&&(this._doOnLoad=function(){t()});this._xmlLoader.loadXMLString(n)},this._buildMenu=function(n,t){for(var r,i,u,f,e,s=0,o=0;o<n.childNodes.length;o++)if(n.childNodes[o].tagName==this.itemTagName){for(r=n.childNodes[o],i={},i.id=this.idPrefix+(r.getAttribute("id")||this._genStr(24)),i.title=r.getAttribute("text")||"",i.imgen=r.getAttribute("img")||"",i.imgdis=r.getAttribute("imgdis")||"",i.tip="",i.hotkey="",r.getAttribute("cssNormal")!=null&&(i.cssNormal=r.getAttribute("cssNormal")),i.type=r.getAttribute("type")||"item",i.type=="checkbox"&&(i.checked=r.getAttribute("checked")!=null,i.imgen="chbx_"+(i.checked?"1":"0"),i.imgdis=i.imgen),i.type=="radio"&&(i.checked=r.getAttribute("checked")!=null,i.imgen="rdbt_"+(i.checked?"1":"0"),i.imgdis=i.imgen,i.group=r.getAttribute("group")||this._genStr(24),this.radio[i.group]==null&&(this.radio[i.group]=[]),this.radio[i.group][this.radio[i.group].length]=i.id),i.state=r.getAttribute("enabled")!=null||r.getAttribute("disabled")!=null?r.getAttribute("enabled")=="false"||r.getAttribute("disabled")=="true"?"disabled":"enabled":"enabled",i.parent=t!=null?t:this.idPrefix+this.topId,i.complex=this.dLoad?r.getAttribute("complex")!=null?!0:!1:this._buildMenu(r,i.id)>0,this.dLoad&&i.complex&&(i.loaded="no"),this.itemPull[i.id]=i,u=0;u<r.childNodes.length;u++)f=r.childNodes[u].tagName,f!=null&&(f=f.toLowerCase()),f==this.userDataTagName&&(e=r.childNodes[u],e.getAttribute("name")!=null&&(this.userData[i.id+"_"+e.getAttribute("name")]=e.firstChild!=null&&e.firstChild.nodeValue!=null?e.firstChild.nodeValue:"")),f==this.itemTextTagName&&(i.title=r.childNodes[u].firstChild.nodeValue),f==this.itemTipTagName&&(i.tip=r.childNodes[u].firstChild.nodeValue),f==this.itemHotKeyTagName&&(i.hotkey=r.childNodes[u].firstChild.nodeValue),f==this.itemHrefTagName&&i.type=="item"&&(i.href_link=r.childNodes[u].firstChild.nodeValue,r.childNodes[u].getAttribute("target")!=null&&(i.href_target=r.childNodes[u].getAttribute("target")));s++}return s},this._xmlParser=function(){var t,r,n;if(i.dLoad){if(n=this.getXMLTopNode("menu"),parentId=n.getAttribute("parentId")!=null?n.getAttribute("parentId"):null,parentId==null)i._buildMenu(n,null),i._initTopLevelMenu();else{if(i._buildMenu(n,i.idPrefix+parentId),i._addSubMenuPolygon(i.idPrefix+parentId,i.idPrefix+parentId),i.menuSelected==i.idPrefix+parentId){var u=i.idPrefix+parentId,f=i.itemPull[i.idPrefix+parentId].parent==i.idPrefix+i.topId,e=f&&!i.context?i.dirTopLevel:i.dirSubLevel,o=!1;f&&i.menuModeTopLevelTimeout&&i.menuMode=="web"&&!i.context&&(t=i.idPull[i.idPrefix+parentId],t._mouseOver==!0&&(r=i.menuModeTopLevelTimeoutTime-((new Date).getTime()-t._dynLoadTM),r>1&&(t._menuOpenTM=window.setTimeout(function(){i._showPolygon(u,e)},r),o=!0)));o||i._showPolygon(u,e)}i.itemPull[i.idPrefix+parentId].loaded="yes";i.loaderIcon==!0&&i._updateLoaderIcon(i.idPrefix+parentId,!1)}this.destructor();i.callEvent("onXLE",[])}else n=this.getXMLTopNode("menu"),i._buildMenu(n,null),i.init(),i.callEvent("onXLE",[]),i._doOnLoad()},this._xmlLoader=new dtmlXMLLoaderObject(this._xmlParser,window),this._showSubLevelItem=function(n,t){document.getElementById("arrow_"+this.idPrefix+n)!=null&&(document.getElementById("arrow_"+this.idPrefix+n).style.display=t?"none":"");document.getElementById("image_"+this.idPrefix+n)!=null&&(document.getElementById("image_"+this.idPrefix+n).style.display=t?"none":"");document.getElementById(this.idPrefix+n)!=null&&(document.getElementById(this.idPrefix+n).style.display=t?"":"none")},this._hideSubLevelItem=function(n){this._showSubLevelItem(n,!0)},this.idPrefix=this._genStr(12),this._bodyClick=function(n){(n=n||event,n.button==2||_isOpera&&n.ctrlKey==!0)||(i.context?i.contextAutoHide&&(!_isOpera||i._isContextMenuVisible()&&_isOpera)&&i._hideContextMenu():i._clearAndHide&&i._clearAndHide())},this._bodyContext=function(n){var u,r,t;if(n=n||event,u=String((n.srcElement||n.target).className),u.search("dhtmlxMenu")==-1||u.search("SubLevelArea")==-1){for(r=!0,t=n.target||n.srcElement;t!=null;)t.id!=null&&i.isContextZone(t.id)&&(r=!1),t==document.body&&(r=!1),t=t.parentNode;r&&i.hideContextMenu()}},typeof addEventListener!="undefined"?(window.addEventListener("click",this._bodyClick,!1),window.addEventListener("contextmenu",this._bodyContext,!1)):(document.body.attachEvent("onclick",this._bodyClick),document.body.attachEvent("oncontextmenu",this._bodyContext)),this._UID=this._genStr(32),dhtmlxMenuObjectLiveInstances[this._UID]=this,dhtmlxEventable(this),this}dhtmlXMenuObject.prototype.init=function(){this._isInited!=!0&&(this.dLoad?(this.callEvent("onXLS",[]),this._xmlLoader.loadXML(this.dLoadUrl+this.dLoadSign+"action=loadMenu&etc="+(new Date).getTime())):(this._initTopLevelMenu(),this._isInited=!0))};dhtmlXMenuObject.prototype._countVisiblePolygonItems=function(n){var r=0,t,u,i;for(t in this.itemPull)u=this.itemPull[t].parent,i=this.itemPull[t].type,this.idPull[t]!=null&&u==n&&(i=="item"||i=="radio"||i=="checkbox")&&this.idPull[t].style.display!="none"&&r++;return r};dhtmlXMenuObject.prototype._redefineComplexState=function(n){if(this.idPrefix+this.topId!=n&&this.idPull["polygon_"+n]!=null&&this.idPull[n]!=null){var t=this._countVisiblePolygonItems(n);t>0&&!this.itemPull[n].complex&&this._updateItemComplexState(n,!0,!1);t==0&&this.itemPull[n].complex&&this._updateItemComplexState(n,!1,!1)}};dhtmlXMenuObject.prototype._updateItemComplexState=function(n,t){if(!this.context&&this._getItemLevelType(n.replace(this.idPrefix,""))=="TopLevel"){this.itemPull[n].complex=t;return}if(this.idPull[n]!=null&&this.itemPull[n]!=null&&(this.itemPull[n].complex=t,n!=this.idPrefix+this.topId)){var i=null,r=this.idPull[n].childNodes[this._rtl?0:2];if(r.childNodes[0]&&String(r.childNodes[0].className).search("complex_arrow")===0&&(i=r.childNodes[0]),this.itemPull[n].complex){if(i==null){for(i=document.createElement("DIV"),i.className="complex_arrow",i.id="arrow_"+n;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);r.appendChild(i)}this.dLoad&&this.itemPull[n].loaded=="get"&&this.loaderIcon?i.className!="complex_arrow_loading"&&(i.className="complex_arrow_loading"):i.className="complex_arrow";return}this.itemPull[n].complex||i==null||(r.removeChild(i),this.itemPull[n].hotkey_backup!=null&&this.setHotKey&&this.setHotKey(n.replace(this.idPrefix,""),this.itemPull[n].hotkey_backup))}};dhtmlXMenuObject.prototype._getItemLevelType=function(n){return this.itemPull[this.idPrefix+n].parent==this.idPrefix+this.topId?"TopLevel":"SubLevelArea"};dhtmlXMenuObject.prototype._redistribTopLevelSelection=function(n){var i=this._getSubItemToDeselectByPolygon("parent"),t;for(this._removeSubItemFromSelected(-1,-1),t=0;t<i.length;t++)i[t]!=n&&this._hidePolygon(i[t]),this.idPull[i[t]]!=null&&i[t]!=n&&(this.idPull[i[t]].className=this.idPull[i[t]].className.replace(/Selected/g,"Normal"));this.itemPull[this.idPrefix+n].state=="enabled"&&(this.idPull[this.idPrefix+n].className="dhtmlxMenu_"+this.skin+"_TopLevel_Item_Selected",this._addSubItemToSelected(this.idPrefix+n,"parent"),this.menuSelected=this.menuMode=="win"?this.menuSelected!=-1?n:this.menuSelected:n,this.itemPull[this.idPrefix+n].complex&&this.menuSelected!=-1&&this._showPolygon(this.idPrefix+n,this.dirTopLevel))};dhtmlXMenuObject.prototype._initTopLevelMenu=function(){var t,n;if(this.dirTopLevel="bottom",this.dirSubLevel=this._rtl?"left":"right",this.context)this.idPull[this.idPrefix+this.topId]=[0,0],this._addSubMenuPolygon(this.idPrefix+this.topId,this.idPrefix+this.topId);else for(t=this._getMenuNodes(this.idPrefix+this.topId),n=0;n<t.length;n++)this.itemPull[t[n]].type=="item"&&this._renderToplevelItem(t[n],null),this.itemPull[t[n]].type=="separator"&&this._renderSeparator(t[n],null)};dhtmlXMenuObject.prototype._renderToplevelItem=function(n,t){var i=this,r=document.createElement("DIV"),f,e,u;r.id=n;r.className=this.itemPull[n].state=="enabled"&&this.itemPull[n].cssNormal!=null?this.itemPull[n].cssNormal:"dhtmlxMenu_"+this.skin+"_TopLevel_Item_"+(this.itemPull[n].state=="enabled"?"Normal":"Disabled");this.itemPull[n].title!=""&&(f=document.createElement("DIV"),f.className="top_level_text",f.innerHTML=this.itemPull[n].title,r.appendChild(f));this.itemPull[n].tip.length>0&&(r.title=this.itemPull[n].tip);(this.itemPull[n].imgen!=""||this.itemPull[n].imgdis!="")&&(e=this.itemPull[n][this.itemPull[n].state=="enabled"?"imgen":"imgdis"],e&&(u=document.createElement("IMG"),u.border="0",u.id="image_"+n,u.src=this.imagePath+e,u.className="dhtmlxMenu_TopLevel_Item_Icon",r.childNodes.length>0&&!this._rtl?r.insertBefore(u,r.childNodes[0]):r.appendChild(u)));r.onselectstart=function(n){return n=n||event,n.returnValue=!1,!1};r.oncontextmenu=function(n){return n=n||event,n.returnValue=!1,!1};this.cont||(this.cont=document.createElement("DIV"),this.cont.dir="ltr",this.cont.className=this._align=="right"?"align_right":"align_left",this.base.appendChild(this.cont));t!=null&&(t++,t<0&&(t=0),t>this.cont.childNodes.length-1&&(t=null));t!=null?this.cont.insertBefore(r,this.cont.childNodes[t]):this.cont.appendChild(r);this.idPull[r.id]=r;this.itemPull[n].complex&&!this.dLoad&&this._addSubMenuPolygon(this.itemPull[n].id,this.itemPull[n].id);r.onmouseover=function(){var t,n,r,u;for(i.menuMode=="web"&&window.clearTimeout(i.menuTimeoutHandler),t=i._getSubItemToDeselectByPolygon("parent"),i._removeSubItemFromSelected(-1,-1),n=0;n<t.length;n++)t[n]!=this.id&&i._hidePolygon(t[n]),i.idPull[t[n]]!=null&&t[n]!=this.id&&(i.itemPull[t[n]].cssNormal!=null?i.idPull[t[n]].className=i.itemPull[t[n]].cssNormal:(i.idPull[t[n]].className=="sub_item_selected"&&(i.idPull[t[n]].className="sub_item"),i.idPull[t[n]].className=i.idPull[t[n]].className.replace(/Selected/g,"Normal")));i.itemPull[this.id].state=="enabled"&&(this.className="dhtmlxMenu_"+i.skin+"_TopLevel_Item_Selected",i._addSubItemToSelected(this.id,"parent"),i.menuSelected=i.menuMode=="win"?i.menuSelected!=-1?this.id:i.menuSelected:this.id,i.dLoad&&i.itemPull[this.id].loaded=="no"&&(i.menuModeTopLevelTimeout&&i.menuMode=="web"&&!i.context&&(this._mouseOver=!0,this._dynLoadTM=(new Date).getTime()),r=new dtmlXMLLoaderObject(i._xmlParser,window),i.itemPull[this.id].loaded="get",i.callEvent("onXLS",[]),r.loadXML(i.dLoadUrl+i.dLoadSign+"action=loadMenu&parentId="+this.id.replace(i.idPrefix,"")+"&etc="+(new Date).getTime())),i.dLoad&&(!i.dLoad||i.itemPull[this.id].loaded&&i.itemPull[this.id].loaded!="yes")||i.itemPull[this.id].complex&&i.menuSelected!=-1&&(i.menuModeTopLevelTimeout&&i.menuMode=="web"&&!i.context?(this._mouseOver=!0,u=this.id,this._menuOpenTM=window.setTimeout(function(){i._showPolygon(u,i.dirTopLevel)},i.menuModeTopLevelTimeoutTime)):i._showPolygon(this.id,i.dirTopLevel)));i._doOnTouchMenu(this.id.replace(i.idPrefix,""))};r.onmouseout=function(){i.itemPull[this.id].complex&&i.menuSelected!=-1||i.itemPull[this.id].state!="enabled"||(r.className=i.itemPull[this.id].cssNormal!=null?i.itemPull[this.id].cssNormal:"dhtmlxMenu_"+i.skin+"_TopLevel_Item_Normal");i.menuMode=="web"&&(window.clearTimeout(i.menuTimeoutHandler),i.menuTimeoutHandler=window.setTimeout(function(){i._clearAndHide()},i.menuTimeoutMsec,"JavaScript"));i.menuModeTopLevelTimeout&&i.menuMode=="web"&&!i.context&&(this._mouseOver=!1,window.clearTimeout(this._menuOpenTM))};r.onclick=function(n){var t;if(i.menuMode=="web"&&window.clearTimeout(i.menuTimeoutHandler),i.menuMode=="web"||i.itemPull[this.id].state!="disabled"){n=n||event;n.cancelBubble=!0;n.returnValue=!1;i.menuMode=="win"&&i.itemPull[this.id].complex&&(i.menuSelected==this.id?(i.menuSelected=-1,t=!1):(i.menuSelected=this.id,t=!0),t?i._showPolygon(this.id,i.dirTopLevel):i._hidePolygon(this.id));var r=i.itemPull[this.id].complex?"c":"-",u=i.itemPull[this.id].state!="enabled"?"d":"-",f={ctrl:n.ctrlKey,alt:n.altKey,shift:n.shiftKey};return i._doOnClick(this.id.replace(i.idPrefix,""),r+u+"t",f),!1}};this.skin=="dhx_terrace"&&this._improveTerraceSkin()};dhtmlXMenuObject.prototype.setImagePath=function(){};dhtmlXMenuObject.prototype.setIconsPath=function(n){this.imagePath=n};dhtmlXMenuObject.prototype.setIconPath=dhtmlXMenuObject.prototype.setIconsPath;dhtmlXMenuObject.prototype._updateItemImage=function(n){var f,i,r,t,u;if(n=this.idPrefix+n,f=this.itemPull[n].parent==this.idPrefix+this.topId&&!this.context,t=null,f)for(i=0;i<this.idPull[n].childNodes.length;i++)try{this.idPull[n].childNodes[i].className=="dhtmlxMenu_TopLevel_Item_Icon"&&(t=this.idPull[n].childNodes[i])}catch(e){}else try{t=this.idPull[n].childNodes[this._rtl?2:0].childNodes[0]}catch(e){}if(r=this.itemPull[n].type=="radio"?this.itemPull[n][this.itemPull[n].state=="enabled"?"imgen":"imgdis"]:this.itemPull[n][this.itemPull[n].state=="enabled"?"imgen":"imgdis"],r.length>0)if(t!=null)t.src=this.imagePath+r;else if(f)t=document.createElement("IMG"),t.className="dhtmlxMenu_TopLevel_Item_Icon",t.src=this.imagePath+r,t.border="0",t.id="image_"+n,!this._rtl&&this.idPull[n].childNodes.length>0?this.idPull[n].insertBefore(t,this.idPull[n].childNodes[0]):this.idPull[n].appendChild(t);else{for(t=document.createElement("IMG"),t.className="sub_icon",t.src=this.imagePath+r,t.border="0",t.id="image_"+n,u=this.idPull[n].childNodes[this._rtl?2:0];u.childNodes.length>0;)u.removeChild(u.childNodes[0]);u.appendChild(t)}else t!=null&&t.parentNode.removeChild(t)};dhtmlXMenuObject.prototype.removeItem=function(n,t,i){var o,h,r,c,f,e,u,s;if(t||(n=this.idPrefix+n),o=null,n!=this.idPrefix+this.topId){if(this.itemPull[n]==null)return;if(this.idPull["polygon_"+n]&&this.idPull["polygon_"+n]._tmShow&&window.clearTimeout(this.idPull["polygon_"+n]._tmShow),h=this.itemPull[n].type,h=="separator")r=this.idPull["separator_"+n],this.itemPull[n].parent==this.idPrefix+this.topId?(r.onclick=null,r.onselectstart=null,r.id=null,r.parentNode.removeChild(r)):(r.childNodes[0].childNodes[0].onclick=null,r.childNodes[0].childNodes[0].onselectstart=null,r.childNodes[0].childNodes[0].id=null,r.childNodes[0].removeChild(r.childNodes[0].childNodes[0]),r.removeChild(r.childNodes[0]),r.parentNode.removeChild(r)),this.idPull["separator_"+n]=null,this.itemPull[n]=null,delete this.idPull["separator_"+n],delete this.itemPull[n],r=null;else{for(o=this.itemPull[n].parent,r=this.idPull[n],r.onclick=null,r.oncontextmenu=null,r.onmouseover=null,r.onmouseout=null,r.onselectstart=null,r.id=null;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);r.parentNode.removeChild(r);this.idPull[n]=null;this.itemPull[n]=null;delete this.idPull[n];delete this.itemPull[n];r=null}h=null}for(c in this.itemPull)this.itemPull[c].parent==n&&this.removeItem(c,!0,!0);for(f=new Array(n),o==null||i||this.idPull["polygon_"+o]!=null&&this.idPull["polygon_"+o].tbd.childNodes.length==0&&(f.push(o),this._updateItemComplexState(o,!1,!1)),e=0;e<f.length;e++)this.idPull["polygon_"+f[e]]&&(u=this.idPull["polygon_"+f[e]],u.onclick=null,u.oncontextmenu=null,u.tbl.removeChild(u.tbd),u.tbd=null,u.removeChild(u.tbl),u.tbl=null,u.id=null,u.parentNode.removeChild(u),u=null,this._isIE6&&(s="polygon_"+f[e]+"_ie6cover",this.idPull[s]!=null&&(document.body.removeChild(this.idPull[s]),delete this.idPull[s])),this.idPull["arrowup_"+n]!=null&&this._removeArrow&&this._removeArrow("arrowup_"+n),this.idPull["arrowdown_"+n]!=null&&this._removeArrow&&this._removeArrow("arrowdown_"+n),this.idPull["polygon_"+f[e]]=null,delete this.idPull["polygon_"+f[e]]);f=null;this.skin=="dhx_terrace"&&arguments.length==1&&this._improveTerraceSkin()};dhtmlXMenuObject.prototype._getAllParents=function(n){var t=[],i,u,r;for(i in this.itemPull)if(this.itemPull[i].parent==n&&(t[t.length]=this.itemPull[i].id,this.itemPull[i].complex))for(u=this._getAllParents(this.itemPull[i].id),r=0;r<u.length;r++)t[t.length]=u[r];return t};dhtmlXMenuObject.prototype.renderAsContextMenu=function(){this.context=!0;this.base._autoSkinUpdate==!0&&(this.base.className=this.base.className.replace("dhtmlxMenu_"+this.skin+"_Middle",""),this.base._autoSkinUpdate=!1);this.addBaseIdAsContextZone!=null&&this.addContextZone(this.addBaseIdAsContextZone)};dhtmlXMenuObject.prototype.addContextZone=function(n){var t,r,u,i;n==document.body?(n="document.body."+this.idPrefix,t=document.body):t=document.getElementById(n);r=!1;for(u in this.contextZones)r=r||u==n||this.contextZones[u]==t;if(r==!0)return!1;this.contextZones[n]=t;i=this;_isOpera?(this.operaContext=function(n){i._doOnContextMenuOpera(n,i)},t.addEventListener("mouseup",this.operaContext,!1)):(t.oncontextmenu==null||t._oldContextMenuHandler||(t._oldContextMenuHandler=t.oncontextmenu),t.oncontextmenu=function(n){for(var t in dhtmlxMenuObjectLiveInstances)t!=i._UID&&dhtmlxMenuObjectLiveInstances[t].context&&dhtmlxMenuObjectLiveInstances[t]._hideContextMenu();return n=n||event,n.cancelBubble=!0,n.returnValue=!1,i._doOnContextBeforeCall(n,this),!1})};dhtmlXMenuObject.prototype._doOnContextMenuOpera=function(n,t){for(var i in dhtmlxMenuObjectLiveInstances)i!=t._UID&&dhtmlxMenuObjectLiveInstances[i].context&&dhtmlxMenuObjectLiveInstances[i]._hideContextMenu();return n.cancelBubble=!0,n.returnValue=!1,n.button==0&&n.ctrlKey==!0&&t._doOnContextBeforeCall(n,this),!1};dhtmlXMenuObject.prototype.removeContextZone=function(n){if(!this.isContextZone(n))return!1;n==document.body&&(n="document.body."+this.idPrefix);var t=this.contextZones[n];_isOpera?t.removeEventListener("mouseup",this.operaContext,!1):(t.oncontextmenu=t._oldContextMenuHandler!=null?t._oldContextMenuHandler:null,t._oldContextMenuHandler=null);try{this.contextZones[n]=null;delete this.contextZones[n]}catch(i){}return!0};dhtmlXMenuObject.prototype.isContextZone=function(n){if(n==document.body&&this.contextZones["document.body."+this.idPrefix]!=null)return!0;var t=!1;return this.contextZones[n]!=null&&this.contextZones[n]==document.getElementById(n)&&(t=!0),t};dhtmlXMenuObject.prototype._isContextMenuVisible=function(){return this.idPull["polygon_"+this.idPrefix+this.topId]==null?!1:this.idPull["polygon_"+this.idPrefix+this.topId].style.display==""};dhtmlXMenuObject.prototype._showContextMenu=function(n,t,i){if(this._clearAndHide(),this.idPull["polygon_"+this.idPrefix+this.topId]==null)return!1;window.clearTimeout(this.menuTimeoutHandler);this.idPull[this.idPrefix+this.topId]=[n,t];this._showPolygon(this.idPrefix+this.topId,"bottom");this.callEvent("onContextMenu",[i])};dhtmlXMenuObject.prototype._hideContextMenu=function(){if(this.idPull["polygon_"+this.idPrefix+this.topId]==null)return!1;this._clearAndHide();this._hidePolygon(this.idPrefix+this.topId);this.zInd=this.zIndInit};dhtmlXMenuObject.prototype._doOnContextBeforeCall=function(n,t){this.contextMenuZoneId=t.id;this._clearAndHide();this._hideContextMenu();var i=n.srcElement||n.target,f=_isIE||_isOpera||_KHTMLrv?n.offsetX:n.layerX,e=_isIE||_isOpera||_KHTMLrv?n.offsetY:n.layerY,r=getAbsoluteLeft(i)+f,u=getAbsoluteTop(i)+e;this.checkEvent("onBeforeContextMenu")?this.callEvent("onBeforeContextMenu",[t.id,n])&&this.contextAutoShow&&(this._showContextMenu(r,u,t.id),this.callEvent("onAfterContextMenu",[t.id,n])):this.contextAutoShow&&(this._showContextMenu(r,u,t.id),this.callEvent("onAfterContextMenu",[t.id]))};dhtmlXMenuObject.prototype.showContextMenu=function(n,t){this._showContextMenu(n,t,!1)};dhtmlXMenuObject.prototype.hideContextMenu=function(){this._hideContextMenu()};dhtmlXMenuObject.prototype._autoDetectVisibleArea=function(){this._isVisibleArea||(this.menuX1=document.body.scrollLeft,this.menuX2=this.menuX1+(window.innerWidth||document.body.clientWidth),this.menuY1=Math.max((_isIE?document.documentElement:document.getElementsByTagName("html")[0]).scrollTop,document.body.scrollTop),this.menuY2=this.menuY1+(_isIE?Math.max(document.documentElement.clientHeight||0,document.documentElement.offsetHeight||0,document.body.clientHeight||0):window.innerHeight))};dhtmlXMenuObject.prototype.getItemPosition=function(n){var i,u,r,t;if(n=this.idPrefix+n,i=-1,this.itemPull[n]==null)return i;for(u=this.itemPull[n].parent,r=this.idPull["polygon_"+u]!=null?this.idPull["polygon_"+u].tbd:this.cont,t=0;t<r.childNodes.length;t++)(r.childNodes[t]==this.idPull["separator_"+n]||r.childNodes[t]==this.idPull[n])&&(i=t);return i};dhtmlXMenuObject.prototype.setItemPosition=function(n,t){if(n=this.idPrefix+n,this.idPull[n]!=null){var f=this.itemPull[n].parent==this.idPrefix+this.topId,r=this.idPull[n],e=this.getItemPosition(n.replace(this.idPrefix,"")),u=this.itemPull[n].parent,i=this.idPull["polygon_"+u]!=null?this.idPull["polygon_"+u].tbd:this.cont;i.removeChild(i.childNodes[e]);t<0&&(t=0);f&&t<1&&(t=1);t<i.childNodes.length?i.insertBefore(r,i.childNodes[t]):i.appendChild(r)}};dhtmlXMenuObject.prototype.getParentId=function(n){return(n=this.idPrefix+n,this.itemPull[n]==null)?null:(this.itemPull[n].parent!=null?this.itemPull[n].parent:this.topId).replace(this.idPrefix,"")};dhtmlXMenuObject.prototype.addNewSibling=function(n,t,i,r,u,f){var e=this.idPrefix+(t!=null?t:this._genStr(24)),o=this.idPrefix+(n!=null?this.getParentId(n):this.topId);this._addItemIntoGlobalStrorage(e,o,i,"item",r,u,f);o!=this.idPrefix+this.topId||this.context?this._renderSublevelItem(e,this.getItemPosition(n)):this._renderToplevelItem(e,this.getItemPosition(n))};dhtmlXMenuObject.prototype.addNewChild=function(n,t,i,r,u,f,e){if(n==null)if(this.context)n=this.topId;else{this.addNewSibling(n,i,r,u,f,e);t!=null&&this.setItemPosition(i,t);return}i=this.idPrefix+(i!=null?i:this._genStr(24));this.setHotKey&&this.setHotKey(n,"");n=this.idPrefix+n;this._addItemIntoGlobalStrorage(i,n,r,"item",u,f,e);this.idPull["polygon_"+n]==null&&this._renderSublevelPolygon(n,n);this._renderSublevelItem(i,t-1);this._redefineComplexState(n)};dhtmlXMenuObject.prototype._addItemIntoGlobalStrorage=function(n,t,i,r,u,f,e){var o={id:n,title:i,imgen:f!=null?f:"",imgdis:e!=null?e:"",type:r,state:u==!0?"disabled":"enabled",parent:t,complex:!1,hotkey:"",tip:""};this.itemPull[o.id]=o};dhtmlXMenuObject.prototype._addSubMenuPolygon=function(n,t){for(var f=this._renderSublevelPolygon(n,t),r=this._getMenuNodes(t),u,i=0;i<r.length;i++)this.itemPull[r[i]].type=="separator"?this._renderSeparator(r[i],null):this._renderSublevelItem(r[i],null);for(u=n==t?"topLevel":"subLevel",i=0;i<r.length;i++)this.itemPull[r[i]].complex&&this._addSubMenuPolygon(n,this.itemPull[r[i]].id)};dhtmlXMenuObject.prototype._renderSublevelPolygon=function(n,t){var i=document.createElement("DIV"),u,f,r,e;return i.className="dhtmlxMenu_"+this.skin+"_SubLevelArea_Polygon "+(this._rtl?"dir_right":""),i.dir="ltr",i.oncontextmenu=function(n){return n=n||event,n.returnValue=!1,n.cancelBubble=!0,!1},i.id="polygon_"+t,i.onclick=function(n){n=n||event;n.cancelBubble=!0},i.style.display="none",document.body.insertBefore(i,document.body.firstChild),u=document.createElement("div"),u.className="divContextMenuParent",f=document.createElement("div"),u.appendChild(f),r=document.createElement("TABLE"),r.className="dhtmlxMebu_SubLevelArea_Tbl",r.style.borderCollapse="collapse",r.cellSpacing=0,r.cellPadding=0,r.border=0,e=document.createElement("TBODY"),r.appendChild(e),i.appendChild(u),f.appendChild(r),i.tbl=r,i.tbd=e,this.idPull[i.id]=i,this.sxDacProc!=null&&(this.idPull["sxDac_"+t]=new this.sxDacProc(i,i.className),_isIE?(this.idPull["sxDac_"+t]._setSpeed(this.dacSpeedIE),this.idPull["sxDac_"+t]._setCustomCycle(this.dacCyclesIE)):(this.idPull["sxDac_"+t]._setSpeed(this.dacSpeed),this.idPull["sxDac_"+t]._setCustomCycle(this.dacCycles))),i};dhtmlXMenuObject.prototype._renderSublevelItem=function(n,t){var i=this,r=document.createElement("TR"),o,a,u,s,h,f,c,l,e;r.className=this.itemPull[n].state=="enabled"?"sub_item":"sub_item_dis";o=document.createElement("TD");a=this.itemPull[n][this.itemPull[n].state=="enabled"?"imgen":"imgdis"];a!=""?(u=document.createElement("DIV"),u.className="CalendarContextMenu",u.style.backgroundPosition=a,o.appendChild(u)):(u=document.createElement("DIV"),u.style.height="18px",u.style.width="18px",o.appendChild(u));s=document.createElement("TD");s.className="sub_item_text";this.itemPull[n].title!=""?(h=document.createElement("DIV"),h.className="sub_item_text",h.style.width="50px",h.innerHTML=this.itemPull[n].title,s.appendChild(h)):s.innerHTML="&nbsp;";f=document.createElement("TD");f.className="sub_item_hk";this.itemPull[n].complex?(c=document.createElement("DIV"),c.className="complex_arrow",c.id="arrow_"+this.itemPull[n].id,f.appendChild(c)):this.itemPull[n].hotkey.length>0&&!this.itemPull[n].complex?(l=document.createElement("DIV"),l.className="sub_item_hk",l.innerHTML=this.itemPull[n].hotkey,f.appendChild(l)):f.innerHTML="&nbsp;";r.appendChild(this._rtl?f:o);r.appendChild(s);r.appendChild(this._rtl?o:f);r.id=this.itemPull[n].id;r.parent=this.itemPull[n].parent;this.itemPull[n].tip.length>0&&(r.title=this.itemPull[n].tip);this._hideTMData||(this._hideTMData={});r.onselectstart=function(n){return n=n||event,n.returnValue=!1,!1};r.onmouseover=function(){i._hideTMData[this.id]&&window.clearTimeout(i._hideTMData[this.id]);i.menuMode=="web"&&window.clearTimeout(i.menuTimeoutHandler);this._visible||i._redistribSubLevelSelection(this.id,this.parent);this._visible=!0};r.onmouseout=function(){i.menuMode=="web"&&(i.menuTimeoutHandler&&window.clearTimeout(i.menuTimeoutHandler),i.menuTimeoutHandler=window.setTimeout(function(){i&&i._clearAndHide&&i._clearAndHide()},i.menuTimeoutMsec,"JavaScript"));var n=this;i._hideTMData[this.id]&&window.clearTimeout(i._hideTMData[this.id]);i._hideTMData[this.id]=window.setTimeout(function(){n._visible=!1},50)};r.onclick=function(n){if(i.checkEvent("onClick")||!i.itemPull[this.id].complex){n=n||event;n.cancelBubble=!0;n.returnValue=!1;tc=i.itemPull[this.id].complex?"c":"-";td=i.itemPull[this.id].state=="enabled"?"-":"d";var t={ctrl:n.ctrlKey,alt:n.altKey,shift:n.shiftKey};switch(i.itemPull[this.id].type){case"checkbox":i._checkboxOnClickHandler(this.id.replace(i.idPrefix,""),tc+td+"n",t);break;case"radio":i._radioOnClickHandler(this.id.replace(i.idPrefix,""),tc+td+"n",t);break;case"item":i._doOnClick(this.id.replace(i.idPrefix,""),tc+td+"n",t)}return!1}};e=this.idPull["polygon_"+this.itemPull[n].parent];t!=null&&(t++,t<0&&(t=0),t>e.tbd.childNodes.length-1&&(t=null));t!=null&&e.tbd.childNodes[t]!=null?e.tbd.insertBefore(r,e.tbd.childNodes[t]):e.tbd.appendChild(r);this.idPull[r.id]=r};dhtmlXMenuObject.prototype._renderSeparator=function(n,t){var f=this.context?"SubLevelArea":this.itemPull[n].parent==this.idPrefix+this.topId?"TopLevel":"SubLevelArea",o,r,e,i,s,u;f=="TopLevel"&&this.context||(o=this,f!="TopLevel"&&(r=document.createElement("TR"),r.className="sub_sep",e=document.createElement("TD"),e.colSpan="3",r.appendChild(e)),i=document.createElement("DIV"),i.id="separator_"+n,i.className=f=="TopLevel"?"top_sep":"sub_sep",i.onselectstart=function(n){n=n||event;n.returnValue=!1},i.onclick=function(n){n=n||event;n.cancelBubble=!0;var t={ctrl:n.ctrlKey,alt:n.altKey,shift:n.shiftKey};o._doOnClick(this.id.replace("separator_"+o.idPrefix,""),"--s",t)},f=="TopLevel"?(t!=null?(t++,t<0&&(t=0),this.cont.childNodes[t]!=null?this.cont.insertBefore(i,this.cont.childNodes[t]):this.cont.appendChild(i)):(s=this.cont.childNodes[this.cont.childNodes.length-1],String(s).search("TopLevel_Text")==-1?this.cont.appendChild(i):this.cont.insertBefore(i,s)),this.idPull[i.id]=i):(u=this.idPull["polygon_"+this.itemPull[n].parent],t!=null&&(t++,t<0&&(t=0),t>u.tbd.childNodes.length-1&&(t=null)),t!=null&&u.tbd.childNodes[t]!=null?u.tbd.insertBefore(r,u.tbd.childNodes[t]):u.tbd.appendChild(r),e.appendChild(i),this.idPull[i.id]=r))};dhtmlXMenuObject.prototype.addNewSeparator=function(n,t){t=this.idPrefix+(t!=null?t:this._genStr(24));var i=this.idPrefix+this.getParentId(n);this._addItemIntoGlobalStrorage(t,i,"","separator",!1,"","");this._renderSeparator(t,this.getItemPosition(n))};dhtmlXMenuObject.prototype.hide=function(){this._clearAndHide()};dhtmlXMenuObject.prototype.clearAll=function(){this.removeItem(this.idPrefix+this.topId,!0);this._isInited=!1;this.idPrefix=this._genStr(12);this.itemPull={}};dhtmlXMenuObject.prototype.unload=function(){if(typeof addEventListener=="function"?(window.removeEventListener("click",this._bodyClick,!1),window.removeEventListener("contextmenu",this._bodyContext,!1)):(document.body.detachEvent("onclick",this._bodyClick),document.body.detachEvent("oncontextmenu",this._bodyContext)),this._bodyClick=null,this._bodyContext=null,this.removeItem(this.idPrefix+this.topId,!0),this.itemPull=null,this.idPull=null,this.context)for(var n in this.contextZones)this.removeContextZone(n);this.cont!=null&&(this.cont.className="",this.cont.parentNode.removeChild(this.cont),this.cont=null);this.base!=null&&(this.base.className="",this.context||(this.base.oncontextmenu=this.base._oldContextMenuHandler||null),this.base.onselectstart=null,this.base=null);this.setSkin=null;this.detachAllEvents();this._xmlLoader&&(this._xmlLoader.destructor(),this._xmlLoader=null);this._align=null;this._arrowFFFix=null;this._isIE6=null;this._isInited=null;this._rtl=null;this._scrollDownTMStep=null;this._scrollDownTMTime=null;this._scrollUpTMStep=null;this._scrollUpTMTime=null;this._topLevelBottomMargin=null;this._topLevelOffsetLeft=null;this._topLevelBottomMargin=null;this._topLevelRightMargin=null;this.addBaseIdAsContextZone=null;this.context=null;this.contextAutoHide=null;this.contextAutoShow=null;this.contextHideAllMode=null;this.contextMenuZoneId=null;this.dLoad=null;this.dLoadSign=null;this.dLoadUrl=null;this.loaderIcon=null;this.fixedPosition=null;this.dirSubLevel=null;this.dirTopLevel=null;this.limit=null;this.menuSelected=null;this.menuLastClicked=null;this.idPrefix=null;this.imagePath=null;this.menuMode=null;this.menuModeTopLevelTimeout=null;this.menuModeTopLevelTimeoutTime=null;this.menuTimeoutHandler=null;this.menuTimeoutMsec=null;this.menuTouched=null;this.isDhtmlxMenuObject=null;this.itemHotKeyTagName=null;this.itemHrefTagName=null;this.itemTagName=null;this.itemTextTagName=null;this.itemTipTagName=null;this.userDataTagName=null;this.skin=null;this.topId=null;this.dacCycles=null;this.dacCyclesIE=null;this.dacSpeed=null;this.dacSpeedIE=null;this.zInd=null;this.zIndInit=null;this.zIndStep=null;this._enableDacSupport=null;this._selectedSubItems=null;this._openedPolygons=null;this._addSubItemToSelected=null;this._removeSubItemFromSelected=null;this._getSubItemToDeselectByPolygon=null;this._hidePolygon=null;this._showPolygon=null;this._redistribSubLevelSelection=null;this._doOnClick=null;this._doOnTouchMenu=null;this._searchMenuNode=null;this._getMenuNodes=null;this._genStr=null;this._clearAndHide=null;this._doOnLoad=null;this.getItemType=null;this.forEachItem=null;this.init=null;this.loadXML=null;this.loadXMLString=null;this._buildMenu=null;this._xmlParser=null;this._showSubLevelItem=null;this._hideSubLevelItem=null;this._countVisiblePolygonItems=null;this._redefineComplexState=null;this._updateItemComplexState=null;this._getItemLevelType=null;this._redistribTopLevelSelection=null;this._initTopLevelMenu=null;this._renderToplevelItem=null;this.setImagePath=null;this.setIconsPath=null;this.setIconPath=null;this._updateItemImage=null;this.removeItem=null;this._getAllParents=null;this.renderAsContextMenu=null;this.addContextZone=null;this.removeContextZone=null;this.isContextZone=null;this._isContextMenuVisible=null;this._showContextMenu=null;this._doOnContextBeforeCall=null;this._autoDetectVisibleArea=null;this._addItemIntoGlobalStrorage=null;this._addSubMenuPolygon=null;this._renderSublevelPolygon=null;this._renderSublevelItem=null;this._renderSeparator=null;this._hideContextMenu=null;this.clearAll=null;this.getItemPosition=null;this.setItemPosition=null;this.getParentId=null;this.addNewSibling=null;this.addNewChild=null;this.addNewSeparator=null;this.attachEvent=null;this.callEvent=null;this.checkEvent=null;this.eventCatcher=null;this.detachEvent=null;this.dhx_Event=null;this.unload=null;this.items=null;this.radio=null;this.detachAllEvents=null;this.hide=null;this.showContextMenu=null;this.hideContextMenu=null;this._changeItemState=null;this._changeItemVisible=null;this._updateLoaderIcon=null;this._clearAllSelectedSubItemsInPolygon=null;this._checkArrowsState=null;this._addUpArrow=null;this._addDownArrow=null;this._removeUpArrow=null;this._removeDownArrow=null;this._isArrowExists=null;this._doScrollUp=null;this._doScrollDown=null;this._countPolygonItems=null;this._getRadioImgObj=null;this._setRadioState=null;this._radioOnClickHandler=null;this._getCheckboxState=null;this._setCheckboxState=null;this._readLevel=null;this._updateCheckboxImage=null;this._checkboxOnClickHandler=null;this._removeArrow=null;this.setItemEnabled=null;this.setItemDisabled=null;this.isItemEnabled=null;this.getItemText=null;this.setItemText=null;this.loadFromHTML=null;this.hideItem=null;this.showItem=null;this.isItemHidden=null;this.setUserData=null;this.getUserData=null;this.setOpenMode=null;this.setWebModeTimeout=null;this.enableDynamicLoading=null;this.getItemImage=null;this.setItemImage=null;this.clearItemImage=null;this.setAutoShowMode=null;this.setAutoHideMode=null;this.setContextMenuHideAllMode=null;this.getContextMenuHideAllMode=null;this.setVisibleArea=null;this.setTooltip=null;this.getTooltip=null;this.setHotKey=null;this.getHotKey=null;this.setItemSelected=null;this.setTopText=null;this.setRTL=null;this.setAlign=null;this.setHref=null;this.clearHref=null;this.getCircuit=null;this.contextZones=null;this.setOverflowHeight=null;this.userData=null;this.getRadioChecked=null;this.setRadioChecked=null;this.addRadioButton=null;this.setCheckboxState=null;this.getCheckboxState=null;this.addCheckbox=null;this.serialize=null;this.extendedModule=null;dhtmlxMenuObjectLiveInstances[this._UID]=null;try{delete dhtmlxMenuObjectLiveInstances[this._UID]}catch(t){}this._UID=null};var dhtmlxMenuObjectLiveInstances={};dhtmlXMenuObject.prototype.i18n={dhxmenuextalert:"dhtmlxmenu_ext.js required"},function(){dhtmlx.extend_api("dhtmlXMenuObject",{_init:function(n){return[n.parent,n.skin]},align:"setAlign",top_text:"setTopText",context:"renderAsContextMenu",icon_path:"setIconsPath",open_mode:"setOpenMode",rtl:"setRTL",skin:"setSkin",dynamic:"enableDynamicLoading",xml:"loadXML",items:"items",overflow:"setOverflowHeight"},{items:function(n,t){for(var i,f=1e5,r=null,u=0;u<n.length;u++)i=n[u],i.type=="separator"?(this.addNewSeparator(r,f,i.id),r=i.id):(this.addNewChild(t,f,i.id,i.text,i.disabled,i.img,i.img_disabled),r=i.id,i.items&&this.items(i.items,i.id))}})}();dhtmlXMenuObject.prototype._improveTerraceSkin=function(){var n,t,i,r;for(n in this.itemPull)if(this.itemPull[n].parent==this.idPrefix+this.topId&&this.idPull[n]!=null){t=!1;i=!1;this.idPull[n].parentNode.firstChild==this.idPull[n]&&(t=!0);this.idPull[n].parentNode.lastChild==this.idPull[n]&&(i=!0);for(r in this.itemPull)this.itemPull[r].type=="separator"&&this.itemPull[r].parent==this.idPrefix+this.topId&&(this.idPull[n].nextSibling==this.idPull["separator_"+r]&&(i=!0),this.idPull[n].previousSibling==this.idPull["separator_"+r]&&(t=!0));this.idPull[n].style.borderLeft=t?"1px solid #cecece":"0px solid white";this.idPull[n].style.borderTopLeftRadius=this.idPull[n].style.borderBottomLeftRadius=t?"5px":"0px";this.idPull[n].style.borderTopRightRadius=this.idPull[n].style.borderBottomRightRadius=i?"5px":"0px";this.idPull[n]._bl=t;this.idPull[n]._br=i}};dhtmlXMenuObject.prototype._improveTerraceButton=function(n,t){t?(this.idPull[n].style.borderBottomLeftRadius=this.idPull[n]._bl?"5px":"0px",this.idPull[n].style.borderBottomRightRadius=this.idPull[n]._br?"5px":"0px"):(this.idPull[n].style.borderBottomLeftRadius="0px",this.idPull[n].style.borderBottomRightRadius="0px")}
if (typeof (Sys) !== 'undefined') { Sys.Application.notifyScriptLoaded() };